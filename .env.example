# ShipOrSkip — Environment Variables
# Copy this to .env.local and fill in your keys

# =============================================================================
# DATABASE (Supabase PostgreSQL)
# =============================================================================
# 1. Go to https://supabase.com/dashboard → New Project
# 2. Settings → Database → Connection String (URI)
# 3. Transaction pooler (port 6543) → copy as DATABASE_URL
# 4. Session pooler (port 5432) → copy as DIRECT_URL
DATABASE_URL=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DIRECT_URL=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# After setting URLs, run: node node_modules/prisma/build/index.js db push

# Moralis Web3 API (free: 40K CU/day)
# https://admin.moralis.io/
MORALIS_API_KEY=your_moralis_api_key_here

# BSCScan API (free key, chainid=56)
# https://bscscan.com/myapikey
BSCSCAN_API_KEY=your_bscscan_api_key_here

# Grok AI by xAI (Twitter/X intel + fallback verdict)
# https://console.x.ai/
XAI_API_KEY=your_xai_api_key_here

# Kimi K2.5 (primary verdict model + Reddit community intel)
# https://platform.moonshot.cn/
KIMI_API_KEY=sk-kimi-your-key-here
KIMI_BASE_URL=https://api.kimi.com/coding/v1
KIMI_MODEL=kimi-for-coding
KIMI_USER_AGENT=KimiCLI/1.3
KIMI_TIMEOUT_MS=90000

# Validation API timeout tuning (milliseconds)
# Increase if responses often fallback before AI result returns.
VALIDATE_GROK_TIMEOUT_MS=45000
VALIDATE_GROK_VERDICT_TIMEOUT_MS=90000
VALIDATE_GROK_INTEL_MODEL=grok-4-1-fast-non-reasoning
VALIDATE_GROK_VERDICT_MODEL=grok-4-1-fast-reasoning

# Anti-Spam CAPTCHA (Cloudflare Turnstile)
# 1. Go to https://dash.cloudflare.com/ → Turnstile → Add Site
# 2. Select "Managed" challenge type
# 3. Copy site key and secret key
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your_turnstile_site_key
TURNSTILE_SECRET_KEY=your_turnstile_secret_key

# Dune Analytics API (for blockchain data queries via MCP)
# https://dune.com/settings/api
DUNE_API_KEY=a5umuvq2cbgT0wusHz3DLA7tiLCeDX7K

# Solana research workflow options (optional)
# Wallet address for onchain balance/history/portfolio snapshots
SOLANA_RESEARCH_ADDRESS=your_solana_wallet_address_here
# Dune query id for Solana analytics snapshots
DUNE_SOLANA_QUERY_ID=your_dune_query_id_here
# Flipside agent in org/name format for ecosystem snapshots
FLIPSIDE_AGENT=your_org/your_agent

# Optional: BSC private key for contract deployment
# DEPLOYER_PRIVATE_KEY=5a92089ff148f5725d403e2eeab029e5389f8edf1bed347437c39d58237cb2c2

# Pipeline API URL (VPS B — defaults to 207.148.9.29:4000 if not set)
PIPELINE_API_URL=http://207.148.9.29:4000/api/v1

# On-demand revalidation secret
# Frontend /api/revalidate endpoint checks this header.
# Pipeline VPS B sends: curl -X POST https://yourdomain.com/api/revalidate -H "x-revalidate-secret: <value>"
REVALIDATE_SECRET=your-random-secret-here

# --- Onchain / Hardhat (Day 4) ---
# BSC endpoints for hardhat networks
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
BSC_MAINNET_RPC_URL=https://bsc-dataseed.binance.org

# Optional owner override for constructor (if contract constructor accepts owner)
# SCOREBOARD_OWNER=0x...

# For batch register script
# SCOREBOARD_ADDRESS=0x...
# REGISTER_LIMIT=40
# PROJECTS_JSON_PATH=data/projects.json

# Frontend onchain settings (used by /validate UI)
# Mainnet defaults:
# NEXT_PUBLIC_CHAIN_ID=56
# NEXT_PUBLIC_EXPLORER_BASE_URL=https://bscscan.com
# Testnet example:
# NEXT_PUBLIC_CHAIN_ID=97
# NEXT_PUBLIC_EXPLORER_BASE_URL=https://testnet.bscscan.com
NEXT_PUBLIC_CONTRACT_ADDRESS=0xYourScoreboardAddress
NEXT_PUBLIC_CHAIN_ID=56
NEXT_PUBLIC_EXPLORER_BASE_URL=https://bscscan.com
NEXT_PUBLIC_SCOREBOARD_PROOF_TX=0xYourBatchRegisterProofTxHash
